{"changed":true,"filter":false,"title":"invitations.rb","tooltip":"/app/admin/invitations.rb","value":"ActiveAdmin.register Invitation do\n# See permitted parameters documentation:\n# https://github.com/activeadmin/activeadmin/blob/master/docs/2-resource-customization.md#setting-up-strong-parameters\n#\n# permit_params :list, :of, :attributes, :on, :model\n#\n# or\n#\n# permit_params do\n#   permitted = [:permitted, :attributes]\n#   permitted << :other if params[:action] == 'create' && current_user.admin?\n#   permitted\n# end\n@name = \"Invitación\"\nmenu false\nmenu false\norderable\nbreadcrumb do\n    [\n      link_to('Invitaciones', '/admin/invitations')\n    ]\nend\nconfig.action_items.delete_if {|item| item.name == :edit && item.display_on?(:show) }\n\ncontroller do\n  def permitted_params\n    params.permit!\n  end\n  def update\n    update! do |format, invitation|\n      format.html { redirect_to edit_admin_invitation_path(resource) }\n    end\n  end\n  def lock\n    lock! do |format, invitation|\n      \n      \n    end\n  end\n  \n  def quick_send\n      @invitation = Invitation.find(params[:id])\n      @guests = @invitation.guests\n      render layout: false\n  end\n  def quick_send_mails\n      #@invitation = Invitation.find(params[:id])\n      #@guests = @invitation.guests\n      #render layout: false\n      #UserNotifier.send_signup_email(@guest).deliver\n      @guests = params[:guests]\n      results = {}\n      @guests.each do |key, value|\n        @g = Guest.find(key)\n\n        mg_client = Mailgun::Client.new(ENV['MAILGUN_API_KEY'])\n\n        message_params =  {\n                           from: 'bob@mailgun.giypablo.com',\n                           to:   @g.email,\n                           subject: 'The Ruby SDK is awesome!',\n                           text:    'It is really easy to send a message!'\n                          }\n        \n        result = mg_client.send_message('mailgun.giypablo.com', message_params).to_h!\n        \n        results.store(@g.email,result)\n        @guest.las\n      end\n      \n      render json: { status: results} \n      #redirect_to admin_invitation_path(params[:id])\n\n  end\n  def quick_sort\n      @invitation = Invitation.find(params[:id])\n      render layout: false\n  end\n  \n  def quick_remove\n      @invitation = Invitation.find(params[:id])\n      @guest = Guest.find(params[:guest_id]).destroy\n      redirect_to admin_invitation_path(@invitation) \n  end\n  def quick_add\n      @invitation = Invitation.find(params[:id])\n      @guest = Guest.new()\n      @guest.invitation = @invitation\n      render layout: false\n  end\n  \n  def quick_create\n      @invitation = Invitation.find(params[:id])\n      @guest = Guest.new(permitted_params[:guest])\n      @guest.invitation = @invitation\n      @guest.save\n      render 'quick_response.js', layout: false\n  end\n  def compute_url_from_resource\n      render 'klklklklklk'\n  end\n  \nend\n\n\naction_item only: :show do\n  link_to 'Enviar por Email', admin_invitation_quick_send_path, class: 'fancybox', data: { 'fancybox-type' => 'ajax' }\nend\n\naction_item :view, only: :show do\n  link_to 'Compartir por Whatsapp', admin_invitation_path(resource)+'?send=whatsapp'\nend\n\nsidebar \"Estado de Envío\", only: :show do\n  render 'send', { invitation: invitation }\nend\n\nindex :title => 'Invitaciones' do\n  column \"Invitados\" do |invitation|\n    invitation.guests.collect{|t| t.name}.join(', ').html_safe\n  end\n  column \"Cantidad de Invitados\", :sortable do |invitation|\n    invitation.guests.count\n  end\n  column \"\" do |invitation|\n    link_to \"Editar\", admin_invitation_path(invitation), :class => \"member_link edit_link\"\n  end\nend\n\nshow do |invitation|\n  team = Invitation.find(params[:id])\n\n  panel \"Invitación\" do\n    attributes_table_for team do\n      row \"Título\" do\n        best_in_place invitation, :title, as: :input, url: [:admin, invitation], :place_holder => \"Clic para editar\"\n      end\n      row \"Última modificación\", :updated_at\n    end\n  end\n\n  panel \"Invitados\" do\n        div class: 'button-row' do\n          link_to 'Agregar Invitado', admin_guest_quick_add_path, class: 'fancybox button', data: { 'fancybox-type' => 'ajax' }\n        end\n        table_for invitation.guests, {:class => 'index_table'} do |guests|\n          column \"Nombre del Invitado\" do |guest|\n              best_in_place guest, :name, as: :input, url: [:admin, invitation,guest], :place_holder => \"Clic para agregar\",:required => true\n            end \n            column \"Email\" do |guest|\n              best_in_place guest, :email, as: :input, url: [:admin, invitation,guest], :place_holder => \"Clic para agregar\"\n            end\n            column \"Teléfono móvil\" do |guest|\n              best_in_place guest, :phone, as: :input, url: [:admin, invitation,guest], :place_holder => \"Clic para agregar\"\n            end\n            column max_width: \"200px\", min_width: \"100px\" do |guest|\n  \n                  link_to \"Delete\", admin_guest_quick_remove_path(resource.id,guest.id), data: { confirm: 'Quitar al Invitado de la lista?' }, :class => \"member_link delete_link\"\n\n            end\n        end\n\n      end\n\n  \n\n    # renders app/views/admin/posts/_some_partial.html.erb\n    # render 'send', { invitation: invitation }\n\nend\n#sidebar \"Estado de Envío\", only: :edit do\n#  render 'status', { invitation: invitation }\n#end\nform :title => 'Editar Invitación' do |f|\n    \n    f.semantic_errors # shows errors on :base\n    f.inputs do\n      f.input :title , label: \"Título de la Invitación\"\n      f.has_many :guests, sortable: :sort_order, heading: false, allow_destroy: true, new_record: 'Agregar Invitado' do |a|\n        a.input :name, label: \"Nombre del Invitado\"\n        a.input :email, label: \"Email del Invitado\"\n        a.input :phone, label: \"Teléfono movil del Invitado\"\n      end\n    end\n    \n    f.actions\n    #image_tag @invitation.cover_photo_url(:thumbnail).to_s, width: 300, class: \"img-thumbnail file-upload-preview\", id: \"preview-cover-photo\"\n    \n  end\nend\n","undoManager":{"mark":96,"position":100,"stack":[[{"start":{"row":151,"column":55},"end":{"row":151,"column":56},"action":"insert","lines":["I"],"id":8792},{"start":{"row":151,"column":56},"end":{"row":151,"column":57},"action":"insert","lines":["n"]},{"start":{"row":151,"column":57},"end":{"row":151,"column":58},"action":"insert","lines":["v"]},{"start":{"row":151,"column":58},"end":{"row":151,"column":59},"action":"insert","lines":["i"]},{"start":{"row":151,"column":59},"end":{"row":151,"column":60},"action":"insert","lines":["t"]},{"start":{"row":151,"column":60},"end":{"row":151,"column":61},"action":"insert","lines":["a"]}],[{"start":{"row":151,"column":61},"end":{"row":151,"column":62},"action":"insert","lines":["t"],"id":8793},{"start":{"row":151,"column":62},"end":{"row":151,"column":63},"action":"insert","lines":["i"]},{"start":{"row":151,"column":63},"end":{"row":151,"column":64},"action":"insert","lines":["o"]},{"start":{"row":151,"column":64},"end":{"row":151,"column":65},"action":"insert","lines":["n"]},{"start":{"row":151,"column":65},"end":{"row":151,"column":66},"action":"insert","lines":[":"]}],[{"start":{"row":151,"column":66},"end":{"row":151,"column":67},"action":"insert","lines":[":"],"id":8794}],[{"start":{"row":119,"column":29},"end":{"row":119,"column":30},"action":"insert","lines":[" "],"id":8795},{"start":{"row":119,"column":30},"end":{"row":119,"column":31},"action":"insert","lines":["d"]},{"start":{"row":119,"column":31},"end":{"row":119,"column":32},"action":"insert","lines":["o"]}],[{"start":{"row":119,"column":31},"end":{"row":119,"column":32},"action":"remove","lines":["o"],"id":8796},{"start":{"row":119,"column":30},"end":{"row":119,"column":31},"action":"remove","lines":["d"]},{"start":{"row":119,"column":29},"end":{"row":119,"column":30},"action":"remove","lines":[" "]}],[{"start":{"row":151,"column":55},"end":{"row":151,"column":65},"action":"remove","lines":["Invitation"],"id":8797},{"start":{"row":151,"column":55},"end":{"row":151,"column":76},"action":"insert","lines":["InvitationsController"]}],[{"start":{"row":151,"column":34},"end":{"row":151,"column":115},"action":"remove","lines":["url: -> (resource) { InvitationsController::compute_url_from_resource(resource) }"],"id":8798},{"start":{"row":151,"column":33},"end":{"row":151,"column":34},"action":"remove","lines":[" "]}],[{"start":{"row":153,"column":68},"end":{"row":153,"column":69},"action":"insert","lines":[","],"id":8801}],[{"start":{"row":153,"column":69},"end":{"row":153,"column":70},"action":"insert","lines":[" "],"id":8802},{"start":{"row":153,"column":70},"end":{"row":153,"column":71},"action":"insert","lines":["i"]},{"start":{"row":153,"column":71},"end":{"row":153,"column":72},"action":"insert","lines":["n"]},{"start":{"row":153,"column":72},"end":{"row":153,"column":73},"action":"insert","lines":["v"]},{"start":{"row":153,"column":73},"end":{"row":153,"column":74},"action":"insert","lines":["i"]}],[{"start":{"row":153,"column":74},"end":{"row":153,"column":75},"action":"insert","lines":["t"],"id":8803},{"start":{"row":153,"column":75},"end":{"row":153,"column":76},"action":"insert","lines":["a"]},{"start":{"row":153,"column":76},"end":{"row":153,"column":77},"action":"insert","lines":["t"]},{"start":{"row":153,"column":77},"end":{"row":153,"column":78},"action":"insert","lines":["i"]},{"start":{"row":153,"column":78},"end":{"row":153,"column":79},"action":"insert","lines":["o"]},{"start":{"row":153,"column":79},"end":{"row":153,"column":80},"action":"insert","lines":["n"]}],[{"start":{"row":153,"column":80},"end":{"row":153,"column":81},"action":"insert","lines":[" "],"id":8804}],[{"start":{"row":153,"column":80},"end":{"row":153,"column":81},"action":"remove","lines":[" "],"id":8805}],[{"start":{"row":153,"column":80},"end":{"row":153,"column":81},"action":"insert","lines":[","],"id":8806}],[{"start":{"row":153,"column":81},"end":{"row":153,"column":82},"action":"insert","lines":[" "],"id":8807}],[{"start":{"row":153,"column":70},"end":{"row":153,"column":81},"action":"remove","lines":["invitation,"],"id":8808}],[{"start":{"row":153,"column":70},"end":{"row":153,"column":71},"action":"insert","lines":["r"],"id":8809},{"start":{"row":153,"column":71},"end":{"row":153,"column":72},"action":"insert","lines":["e"]},{"start":{"row":153,"column":72},"end":{"row":153,"column":73},"action":"insert","lines":["s"]},{"start":{"row":153,"column":73},"end":{"row":153,"column":74},"action":"insert","lines":["o"]},{"start":{"row":153,"column":74},"end":{"row":153,"column":75},"action":"insert","lines":["u"]},{"start":{"row":153,"column":75},"end":{"row":153,"column":76},"action":"insert","lines":["r"]},{"start":{"row":153,"column":76},"end":{"row":153,"column":77},"action":"insert","lines":["c"]},{"start":{"row":153,"column":77},"end":{"row":153,"column":78},"action":"insert","lines":["e"]}],[{"start":{"row":153,"column":78},"end":{"row":153,"column":79},"action":"insert","lines":["."],"id":8810}],[{"start":{"row":153,"column":79},"end":{"row":153,"column":80},"action":"remove","lines":[" "],"id":8811}],[{"start":{"row":153,"column":70},"end":{"row":153,"column":79},"action":"remove","lines":["resource."],"id":8812}],[{"start":{"row":153,"column":68},"end":{"row":153,"column":69},"action":"remove","lines":[","],"id":8813},{"start":{"row":153,"column":67},"end":{"row":153,"column":68},"action":"remove","lines":[" "]}],[{"start":{"row":152,"column":48},"end":{"row":152,"column":49},"action":"insert","lines":[","],"id":8821}],[{"start":{"row":152,"column":49},"end":{"row":152,"column":50},"action":"insert","lines":[" "],"id":8822},{"start":{"row":152,"column":50},"end":{"row":152,"column":51},"action":"insert","lines":["i"]},{"start":{"row":152,"column":51},"end":{"row":152,"column":52},"action":"insert","lines":["n"]},{"start":{"row":152,"column":52},"end":{"row":152,"column":53},"action":"insert","lines":["v"]},{"start":{"row":152,"column":53},"end":{"row":152,"column":54},"action":"insert","lines":["i"]}],[{"start":{"row":152,"column":54},"end":{"row":152,"column":55},"action":"insert","lines":["t"],"id":8823},{"start":{"row":152,"column":55},"end":{"row":152,"column":56},"action":"insert","lines":["a"]},{"start":{"row":152,"column":56},"end":{"row":152,"column":57},"action":"insert","lines":["t"]},{"start":{"row":152,"column":57},"end":{"row":152,"column":58},"action":"insert","lines":["i"]},{"start":{"row":152,"column":58},"end":{"row":152,"column":59},"action":"insert","lines":["o"]},{"start":{"row":152,"column":59},"end":{"row":152,"column":60},"action":"insert","lines":["n"]}],[{"start":{"row":153,"column":68},"end":{"row":153,"column":69},"action":"insert","lines":["i"],"id":8824},{"start":{"row":153,"column":69},"end":{"row":153,"column":70},"action":"insert","lines":["n"]},{"start":{"row":153,"column":70},"end":{"row":153,"column":71},"action":"insert","lines":["v"]},{"start":{"row":153,"column":71},"end":{"row":153,"column":72},"action":"insert","lines":["i"]},{"start":{"row":153,"column":72},"end":{"row":153,"column":73},"action":"insert","lines":["t"]},{"start":{"row":153,"column":73},"end":{"row":153,"column":74},"action":"insert","lines":["a"]},{"start":{"row":153,"column":74},"end":{"row":153,"column":75},"action":"insert","lines":["t"]}],[{"start":{"row":153,"column":75},"end":{"row":153,"column":76},"action":"insert","lines":["i"],"id":8825},{"start":{"row":153,"column":76},"end":{"row":153,"column":77},"action":"insert","lines":["o"]},{"start":{"row":153,"column":77},"end":{"row":153,"column":78},"action":"insert","lines":["n"]},{"start":{"row":153,"column":78},"end":{"row":153,"column":79},"action":"insert","lines":["."]}],[{"start":{"row":153,"column":78},"end":{"row":153,"column":84},"action":"remove","lines":[".guest"],"id":8826}],[{"start":{"row":152,"column":48},"end":{"row":152,"column":60},"action":"remove","lines":[", invitation"],"id":8827}],[{"start":{"row":156,"column":69},"end":{"row":156,"column":74},"action":"remove","lines":["guest"],"id":8828},{"start":{"row":156,"column":69},"end":{"row":156,"column":79},"action":"insert","lines":["invitation"]}],[{"start":{"row":159,"column":68},"end":{"row":159,"column":73},"action":"remove","lines":["guest"],"id":8829},{"start":{"row":159,"column":68},"end":{"row":159,"column":78},"action":"insert","lines":["invitation"]}],[{"start":{"row":153,"column":68},"end":{"row":153,"column":78},"action":"remove","lines":["invitation"],"id":8830},{"start":{"row":153,"column":68},"end":{"row":153,"column":73},"action":"insert","lines":["guest"]}],[{"start":{"row":153,"column":73},"end":{"row":153,"column":74},"action":"insert","lines":[","],"id":8831}],[{"start":{"row":153,"column":74},"end":{"row":153,"column":79},"action":"insert","lines":["guest"],"id":8832}],[{"start":{"row":153,"column":68},"end":{"row":153,"column":73},"action":"remove","lines":["guest"],"id":8833},{"start":{"row":153,"column":68},"end":{"row":153,"column":69},"action":"insert","lines":["i"]},{"start":{"row":153,"column":69},"end":{"row":153,"column":70},"action":"insert","lines":["n"]},{"start":{"row":153,"column":70},"end":{"row":153,"column":71},"action":"insert","lines":["v"]},{"start":{"row":153,"column":71},"end":{"row":153,"column":72},"action":"insert","lines":["i"]},{"start":{"row":153,"column":72},"end":{"row":153,"column":73},"action":"insert","lines":["t"]},{"start":{"row":153,"column":73},"end":{"row":153,"column":74},"action":"insert","lines":["a"]},{"start":{"row":153,"column":74},"end":{"row":153,"column":75},"action":"insert","lines":["t"]}],[{"start":{"row":153,"column":75},"end":{"row":153,"column":76},"action":"insert","lines":["i"],"id":8834},{"start":{"row":153,"column":76},"end":{"row":153,"column":77},"action":"insert","lines":["o"]},{"start":{"row":153,"column":77},"end":{"row":153,"column":78},"action":"insert","lines":["n"]}],[{"start":{"row":156,"column":61},"end":{"row":156,"column":79},"action":"remove","lines":[":admin, invitation"],"id":8835},{"start":{"row":156,"column":61},"end":{"row":156,"column":85},"action":"insert","lines":[":admin, invitation,guest"]}],[{"start":{"row":159,"column":61},"end":{"row":159,"column":78},"action":"remove","lines":[":admin,invitation"],"id":8836},{"start":{"row":159,"column":61},"end":{"row":159,"column":85},"action":"insert","lines":[":admin, invitation,guest"]}],[{"start":{"row":149,"column":0},"end":{"row":149,"column":2},"action":"insert","lines":["  "],"id":8837}],[{"start":{"row":149,"column":2},"end":{"row":149,"column":4},"action":"insert","lines":["  "],"id":8838}],[{"start":{"row":149,"column":4},"end":{"row":149,"column":6},"action":"insert","lines":["  "],"id":8839}],[{"start":{"row":149,"column":6},"end":{"row":149,"column":8},"action":"insert","lines":["  "],"id":8840}],[{"start":{"row":149,"column":8},"end":{"row":151,"column":11},"action":"insert","lines":["div class: 'button-row' do","          link_to 'Agregar Invitado', admin_guest_quick_add_path, class: 'fancybox button', data: { 'fancybox-type' => 'ajax' }","        end"],"id":8841}],[{"start":{"row":150,"column":56},"end":{"row":150,"column":64},"action":"remove","lines":["add_path"],"id":8842},{"start":{"row":150,"column":56},"end":{"row":150,"column":57},"action":"insert","lines":["s"]},{"start":{"row":150,"column":57},"end":{"row":150,"column":58},"action":"insert","lines":["o"]},{"start":{"row":150,"column":58},"end":{"row":150,"column":59},"action":"insert","lines":["r"]},{"start":{"row":150,"column":59},"end":{"row":150,"column":60},"action":"insert","lines":["t"]}],[{"start":{"row":150,"column":60},"end":{"row":150,"column":61},"action":"insert","lines":["_"],"id":8843},{"start":{"row":150,"column":61},"end":{"row":150,"column":62},"action":"insert","lines":["p"]},{"start":{"row":150,"column":62},"end":{"row":150,"column":63},"action":"insert","lines":["a"]},{"start":{"row":150,"column":63},"end":{"row":150,"column":64},"action":"insert","lines":["t"]},{"start":{"row":150,"column":64},"end":{"row":150,"column":65},"action":"insert","lines":["h"]}],[{"start":{"row":74,"column":6},"end":{"row":78,"column":9},"action":"remove","lines":["Invitation.all.each do |invitation|","        invitation.guests.order(:updated_at).each.with_index(1) do |guest, index|","          guest.update_column :sort_order, index","        end","      end"],"id":8844},{"start":{"row":74,"column":6},"end":{"row":77,"column":26},"action":"insert","lines":["@invitation = Invitation.find(params[:id])","      @guest = Guest.new()","      @guest.invitation = @invitation","      render layout: false"]}],[{"start":{"row":75,"column":6},"end":{"row":76,"column":37},"action":"remove","lines":["@guest = Guest.new()","      @guest.invitation = @invitation"],"id":8845}],[{"start":{"row":75,"column":4},"end":{"row":75,"column":6},"action":"remove","lines":["  "],"id":8846},{"start":{"row":75,"column":2},"end":{"row":75,"column":4},"action":"remove","lines":["  "]},{"start":{"row":75,"column":0},"end":{"row":75,"column":2},"action":"remove","lines":["  "]},{"start":{"row":74,"column":48},"end":{"row":75,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":75,"column":26},"end":{"row":76,"column":0},"action":"insert","lines":["",""],"id":8847},{"start":{"row":76,"column":0},"end":{"row":76,"column":6},"action":"insert","lines":["      "]}],[{"start":{"row":76,"column":6},"end":{"row":76,"column":47},"action":"insert","lines":["render 'quick_response.js', layout: false"],"id":8848}],[{"start":{"row":75,"column":6},"end":{"row":75,"column":26},"action":"remove","lines":["render layout: false"],"id":8849},{"start":{"row":75,"column":4},"end":{"row":75,"column":6},"action":"remove","lines":["  "]},{"start":{"row":75,"column":2},"end":{"row":75,"column":4},"action":"remove","lines":["  "]},{"start":{"row":75,"column":0},"end":{"row":75,"column":2},"action":"remove","lines":["  "]}],[{"start":{"row":74,"column":48},"end":{"row":75,"column":0},"action":"remove","lines":["",""],"id":8850}],[{"start":{"row":75,"column":13},"end":{"row":75,"column":32},"action":"remove","lines":["'quick_response.js'"],"id":8851},{"start":{"row":75,"column":13},"end":{"row":75,"column":34},"action":"insert","lines":["edit_admin_invitation"]}],[{"start":{"row":75,"column":34},"end":{"row":75,"column":35},"action":"insert","lines":["_"],"id":8852},{"start":{"row":75,"column":35},"end":{"row":75,"column":36},"action":"insert","lines":["p"]},{"start":{"row":75,"column":36},"end":{"row":75,"column":37},"action":"insert","lines":["a"]},{"start":{"row":75,"column":37},"end":{"row":75,"column":38},"action":"insert","lines":["t"]},{"start":{"row":75,"column":38},"end":{"row":75,"column":39},"action":"insert","lines":["h"]}],[{"start":{"row":75,"column":13},"end":{"row":75,"column":14},"action":"insert","lines":[":"],"id":8853}],[{"start":{"row":147,"column":38},"end":{"row":147,"column":65},"action":"remove","lines":["admin_guest_quick_sort_path"],"id":8854},{"start":{"row":147,"column":38},"end":{"row":147,"column":65},"action":"insert","lines":["admin_invitation_quick_sort"]}],[{"start":{"row":147,"column":65},"end":{"row":147,"column":66},"action":"insert","lines":["_"],"id":8855},{"start":{"row":147,"column":66},"end":{"row":147,"column":67},"action":"insert","lines":["p"]},{"start":{"row":147,"column":67},"end":{"row":147,"column":68},"action":"insert","lines":["a"]},{"start":{"row":147,"column":68},"end":{"row":147,"column":69},"action":"insert","lines":["t"]},{"start":{"row":147,"column":69},"end":{"row":147,"column":70},"action":"insert","lines":["h"]}],[{"start":{"row":75,"column":13},"end":{"row":75,"column":14},"action":"remove","lines":[":"],"id":8856}],[{"start":{"row":75,"column":39},"end":{"row":75,"column":41},"action":"insert","lines":["()"],"id":8857}],[{"start":{"row":75,"column":40},"end":{"row":75,"column":51},"action":"insert","lines":["@invitation"],"id":8858}],[{"start":{"row":73,"column":12},"end":{"row":73,"column":17},"action":"remove","lines":["order"],"id":8859},{"start":{"row":73,"column":12},"end":{"row":73,"column":13},"action":"insert","lines":["s"]},{"start":{"row":73,"column":13},"end":{"row":73,"column":14},"action":"insert","lines":["o"]},{"start":{"row":73,"column":14},"end":{"row":73,"column":15},"action":"insert","lines":["r"]},{"start":{"row":73,"column":15},"end":{"row":73,"column":16},"action":"insert","lines":["t"]}],[{"start":{"row":75,"column":13},"end":{"row":75,"column":67},"action":"remove","lines":["edit_admin_invitation_path(@invitation), layout: false"],"id":8860},{"start":{"row":75,"column":13},"end":{"row":75,"column":26},"action":"insert","lines":["layout: false"]}],[{"start":{"row":150,"column":0},"end":{"row":151,"column":0},"action":"remove","lines":["          orderable_handle_column",""],"id":8861}],[{"start":{"row":116,"column":0},"end":{"row":118,"column":3},"action":"remove","lines":["def compute_url_from_resource","    render 'klklklklklk'","end"],"id":8862},{"start":{"row":115,"column":0},"end":{"row":116,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":116,"column":33},"end":{"row":117,"column":0},"action":"insert","lines":["",""],"id":8863},{"start":{"row":117,"column":0},"end":{"row":117,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":117,"column":2},"end":{"row":118,"column":0},"action":"insert","lines":["          orderable_handle_column",""],"id":8864}],[{"start":{"row":117,"column":10},"end":{"row":117,"column":12},"action":"remove","lines":["  "],"id":8865},{"start":{"row":117,"column":8},"end":{"row":117,"column":10},"action":"remove","lines":["  "]},{"start":{"row":117,"column":6},"end":{"row":117,"column":8},"action":"remove","lines":["  "]},{"start":{"row":117,"column":4},"end":{"row":117,"column":6},"action":"remove","lines":["  "]},{"start":{"row":117,"column":2},"end":{"row":117,"column":4},"action":"remove","lines":["  "]}],[{"start":{"row":117,"column":2},"end":{"row":117,"column":25},"action":"remove","lines":["orderable_handle_column"],"id":8866},{"start":{"row":117,"column":2},"end":{"row":118,"column":0},"action":"remove","lines":["",""]},{"start":{"row":117,"column":2},"end":{"row":118,"column":0},"action":"remove","lines":["",""]},{"start":{"row":117,"column":2},"end":{"row":117,"column":4},"action":"remove","lines":["  "]}],[{"start":{"row":143,"column":8},"end":{"row":145,"column":11},"action":"remove","lines":["div class: 'button-row' do","          link_to 'Agregar Invitado', admin_invitation_quick_sort_path, class: 'fancybox button', data: { 'fancybox-type' => 'ajax' }","        end"],"id":8867},{"start":{"row":143,"column":6},"end":{"row":143,"column":8},"action":"remove","lines":["  "]},{"start":{"row":143,"column":4},"end":{"row":143,"column":6},"action":"remove","lines":["  "]},{"start":{"row":143,"column":2},"end":{"row":143,"column":4},"action":"remove","lines":["  "]},{"start":{"row":143,"column":0},"end":{"row":143,"column":2},"action":"remove","lines":["  "]},{"start":{"row":142,"column":11},"end":{"row":143,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":132,"column":32},"end":{"row":133,"column":0},"action":"insert","lines":["",""],"id":8868},{"start":{"row":133,"column":0},"end":{"row":133,"column":6},"action":"insert","lines":["      "]}],[{"start":{"row":133,"column":6},"end":{"row":135,"column":15},"action":"insert","lines":["column \"Email\" do |guest|","              best_in_place guest, :email, as: :input, url: [:admin, invitation,guest], :place_holder => \"Clic para agregar\"","            end"],"id":8869}],[{"start":{"row":134,"column":0},"end":{"row":134,"column":2},"action":"remove","lines":["  "],"id":8870},{"start":{"row":135,"column":0},"end":{"row":135,"column":2},"action":"remove","lines":["  "]}],[{"start":{"row":134,"column":0},"end":{"row":134,"column":2},"action":"remove","lines":["  "],"id":8871},{"start":{"row":135,"column":0},"end":{"row":135,"column":2},"action":"remove","lines":["  "]}],[{"start":{"row":134,"column":0},"end":{"row":134,"column":2},"action":"remove","lines":["  "],"id":8872},{"start":{"row":135,"column":0},"end":{"row":135,"column":2},"action":"remove","lines":["  "]}],[{"start":{"row":133,"column":6},"end":{"row":133,"column":12},"action":"remove","lines":["column"],"id":8873},{"start":{"row":133,"column":6},"end":{"row":133,"column":7},"action":"insert","lines":["r"]},{"start":{"row":133,"column":7},"end":{"row":133,"column":8},"action":"insert","lines":["o"]},{"start":{"row":133,"column":8},"end":{"row":133,"column":9},"action":"insert","lines":["w"]}],[{"start":{"row":133,"column":11},"end":{"row":133,"column":16},"action":"remove","lines":["Email"],"id":8874},{"start":{"row":133,"column":11},"end":{"row":133,"column":12},"action":"insert","lines":["T"]},{"start":{"row":133,"column":12},"end":{"row":133,"column":13},"action":"insert","lines":["í"]},{"start":{"row":133,"column":13},"end":{"row":133,"column":14},"action":"insert","lines":["t"]},{"start":{"row":133,"column":14},"end":{"row":133,"column":15},"action":"insert","lines":["u"]}],[{"start":{"row":133,"column":15},"end":{"row":133,"column":16},"action":"insert","lines":["l"],"id":8875},{"start":{"row":133,"column":16},"end":{"row":133,"column":17},"action":"insert","lines":["o"]}],[{"start":{"row":133,"column":23},"end":{"row":133,"column":28},"action":"remove","lines":["guest"],"id":8876},{"start":{"row":133,"column":23},"end":{"row":133,"column":24},"action":"insert","lines":["i"]},{"start":{"row":133,"column":24},"end":{"row":133,"column":25},"action":"insert","lines":["n"]},{"start":{"row":133,"column":25},"end":{"row":133,"column":26},"action":"insert","lines":["v"]},{"start":{"row":133,"column":26},"end":{"row":133,"column":27},"action":"insert","lines":["i"]},{"start":{"row":133,"column":27},"end":{"row":133,"column":28},"action":"insert","lines":["t"]},{"start":{"row":133,"column":28},"end":{"row":133,"column":29},"action":"insert","lines":["a"]}],[{"start":{"row":133,"column":29},"end":{"row":133,"column":30},"action":"insert","lines":["t"],"id":8877},{"start":{"row":133,"column":30},"end":{"row":133,"column":31},"action":"insert","lines":["i"]},{"start":{"row":133,"column":31},"end":{"row":133,"column":32},"action":"insert","lines":["o"]},{"start":{"row":133,"column":32},"end":{"row":133,"column":33},"action":"insert","lines":["n"]}],[{"start":{"row":134,"column":22},"end":{"row":134,"column":27},"action":"remove","lines":["guest"],"id":8878},{"start":{"row":134,"column":22},"end":{"row":134,"column":32},"action":"insert","lines":["invitation"]}],[{"start":{"row":134,"column":35},"end":{"row":134,"column":40},"action":"remove","lines":["email"],"id":8879},{"start":{"row":134,"column":35},"end":{"row":134,"column":36},"action":"insert","lines":["t"]},{"start":{"row":134,"column":36},"end":{"row":134,"column":37},"action":"insert","lines":["i"]},{"start":{"row":134,"column":37},"end":{"row":134,"column":38},"action":"insert","lines":["t"]},{"start":{"row":134,"column":38},"end":{"row":134,"column":39},"action":"insert","lines":["l"]},{"start":{"row":134,"column":39},"end":{"row":134,"column":40},"action":"insert","lines":["e"]}],[{"start":{"row":134,"column":78},"end":{"row":134,"column":84},"action":"remove","lines":[",guest"],"id":8880}],[{"start":{"row":134,"column":109},"end":{"row":134,"column":116},"action":"remove","lines":["agregar"],"id":8881},{"start":{"row":134,"column":109},"end":{"row":134,"column":110},"action":"insert","lines":["e"]},{"start":{"row":134,"column":110},"end":{"row":134,"column":111},"action":"insert","lines":["d"]},{"start":{"row":134,"column":111},"end":{"row":134,"column":112},"action":"insert","lines":["i"]},{"start":{"row":134,"column":112},"end":{"row":134,"column":113},"action":"insert","lines":["t"]},{"start":{"row":134,"column":113},"end":{"row":134,"column":114},"action":"insert","lines":["a"]},{"start":{"row":134,"column":114},"end":{"row":134,"column":115},"action":"insert","lines":["r"]}],[{"start":{"row":136,"column":0},"end":{"row":137,"column":0},"action":"remove","lines":["      row :title",""],"id":8882}],[{"start":{"row":133,"column":21},"end":{"row":133,"column":34},"action":"remove","lines":[" |invitation|"],"id":8883}],[{"start":{"row":137,"column":10},"end":{"row":137,"column":18},"action":"insert","lines":["\"Título\""],"id":8884}],[{"start":{"row":137,"column":18},"end":{"row":137,"column":19},"action":"insert","lines":[" "],"id":8885}],[{"start":{"row":136,"column":0},"end":{"row":137,"column":0},"action":"remove","lines":["      row :created_at",""],"id":8886}],[{"start":{"row":136,"column":18},"end":{"row":136,"column":19},"action":"insert","lines":[","],"id":8887}],[{"start":{"row":136,"column":11},"end":{"row":136,"column":17},"action":"remove","lines":["Título"],"id":8888},{"start":{"row":136,"column":11},"end":{"row":136,"column":12},"action":"insert","lines":["M"]}],[{"start":{"row":136,"column":12},"end":{"row":136,"column":13},"action":"insert","lines":["o"],"id":8889},{"start":{"row":136,"column":13},"end":{"row":136,"column":14},"action":"insert","lines":["d"]},{"start":{"row":136,"column":14},"end":{"row":136,"column":15},"action":"insert","lines":["i"]},{"start":{"row":136,"column":15},"end":{"row":136,"column":16},"action":"insert","lines":["f"]},{"start":{"row":136,"column":16},"end":{"row":136,"column":17},"action":"insert","lines":["i"]}],[{"start":{"row":136,"column":17},"end":{"row":136,"column":18},"action":"insert","lines":["c"],"id":8890},{"start":{"row":136,"column":18},"end":{"row":136,"column":19},"action":"insert","lines":["a"]},{"start":{"row":136,"column":19},"end":{"row":136,"column":20},"action":"insert","lines":["d"]},{"start":{"row":136,"column":20},"end":{"row":136,"column":21},"action":"insert","lines":["o"]}],[{"start":{"row":136,"column":20},"end":{"row":136,"column":21},"action":"remove","lines":["o"],"id":8891}],[{"start":{"row":136,"column":19},"end":{"row":136,"column":20},"action":"remove","lines":["d"],"id":8892},{"start":{"row":136,"column":18},"end":{"row":136,"column":19},"action":"remove","lines":["a"]},{"start":{"row":136,"column":17},"end":{"row":136,"column":18},"action":"remove","lines":["c"]},{"start":{"row":136,"column":16},"end":{"row":136,"column":17},"action":"remove","lines":["i"]},{"start":{"row":136,"column":15},"end":{"row":136,"column":16},"action":"remove","lines":["f"]},{"start":{"row":136,"column":14},"end":{"row":136,"column":15},"action":"remove","lines":["i"]},{"start":{"row":136,"column":13},"end":{"row":136,"column":14},"action":"remove","lines":["d"]},{"start":{"row":136,"column":12},"end":{"row":136,"column":13},"action":"remove","lines":["o"]},{"start":{"row":136,"column":11},"end":{"row":136,"column":12},"action":"remove","lines":["M"]}],[{"start":{"row":136,"column":11},"end":{"row":136,"column":12},"action":"insert","lines":["Ú"],"id":8893},{"start":{"row":136,"column":12},"end":{"row":136,"column":13},"action":"insert","lines":["l"]},{"start":{"row":136,"column":13},"end":{"row":136,"column":14},"action":"insert","lines":["t"]},{"start":{"row":136,"column":14},"end":{"row":136,"column":15},"action":"insert","lines":["i"]},{"start":{"row":136,"column":15},"end":{"row":136,"column":16},"action":"insert","lines":["m"]}],[{"start":{"row":136,"column":16},"end":{"row":136,"column":17},"action":"insert","lines":["a"],"id":8894}],[{"start":{"row":136,"column":17},"end":{"row":136,"column":18},"action":"insert","lines":[" "],"id":8895},{"start":{"row":136,"column":18},"end":{"row":136,"column":19},"action":"insert","lines":["m"]},{"start":{"row":136,"column":19},"end":{"row":136,"column":20},"action":"insert","lines":["o"]},{"start":{"row":136,"column":20},"end":{"row":136,"column":21},"action":"insert","lines":["d"]},{"start":{"row":136,"column":21},"end":{"row":136,"column":22},"action":"insert","lines":["i"]},{"start":{"row":136,"column":22},"end":{"row":136,"column":23},"action":"insert","lines":["f"]},{"start":{"row":136,"column":23},"end":{"row":136,"column":24},"action":"insert","lines":["i"]},{"start":{"row":136,"column":24},"end":{"row":136,"column":25},"action":"insert","lines":["c"]}],[{"start":{"row":136,"column":25},"end":{"row":136,"column":26},"action":"insert","lines":["a"],"id":8896},{"start":{"row":136,"column":26},"end":{"row":136,"column":27},"action":"insert","lines":["c"]},{"start":{"row":136,"column":27},"end":{"row":136,"column":28},"action":"insert","lines":["i"]},{"start":{"row":136,"column":28},"end":{"row":136,"column":29},"action":"insert","lines":["ó"]}],[{"start":{"row":136,"column":29},"end":{"row":136,"column":30},"action":"insert","lines":["n"],"id":8897}],[{"start":{"row":66,"column":38},"end":{"row":67,"column":0},"action":"insert","lines":["",""],"id":8898},{"start":{"row":67,"column":0},"end":{"row":67,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":67,"column":8},"end":{"row":67,"column":19},"action":"insert","lines":["@guest.save"],"id":8899}],[{"start":{"row":67,"column":15},"end":{"row":67,"column":19},"action":"remove","lines":["save"],"id":8900},{"start":{"row":67,"column":15},"end":{"row":67,"column":16},"action":"insert","lines":["l"]},{"start":{"row":67,"column":16},"end":{"row":67,"column":17},"action":"insert","lines":["a"]}],[{"start":{"row":67,"column":17},"end":{"row":67,"column":18},"action":"insert","lines":["s"],"id":8901}]]},"ace":{"folds":[],"scrolltop":732.0625,"scrollleft":0,"selection":{"start":{"row":67,"column":18},"end":{"row":67,"column":18},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":82,"state":"start","mode":"ace/mode/ruby"}},"timestamp":1536210622087}